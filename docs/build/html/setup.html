<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Set-up on Cloud Instances (AWS EC2) &#8212; openfv 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Welcome to OpenFV’s documentation!" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to OpenFV’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openfv 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="set-up-on-cloud-instances-aws-ec2">
<h1>Set-up on Cloud Instances (AWS EC2)<a class="headerlink" href="#set-up-on-cloud-instances-aws-ec2" title="Permalink to this headline">¶</a></h1>
<p><em>(experimental)</em></p>
<p>We realize that code libraries can be painful to install and not
everyone has access to a Linux machine. This is why we have packaged
OpenFV to be easily set up on AWS EC2 instances inside docker
containers. Just follow the following simple steps to get started:</p>
<ol class="arabic">
<li><p class="first">Create an AWS account</p>
</li>
<li><p class="first">Create an EC2 instance using the <cite>OpenFV AMI &lt;#&gt;</cite>. This AMI has all
the requirements pre-installed. Also, if you pick an instance type
that has a connected GPU(s) (we recommend the <cite>p2 instances &lt;https://aws.amazon.com/ec2/instance-types/p2/&gt;</cite>), this
AMI will be able to communicate with the GPU.</p>
</li>
<li><p class="first">SSH into your instance. If your instance does not have a GPU, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker pull openfv/openfv
$ docker run -it --rm -p <span class="m">80</span>:8888 openfv/openfv
</pre></div>
</div>
<p>If your instance has a GPU, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker pull openfv/openfv-cuda
$ nvidia-docker run -it --rm -p <span class="m">80</span>:8888 openfv/openfv-cuda
</pre></div>
</div>
</li>
<li><p class="first">Now access a IPython Notebook / Jupyter server that runs inside
your EC2 instance by visiting the public DNS of your instance. Now
you can create Python notebooks and use the OpenFV Python API or
write C++ executables and run them via the terminal.</p>
</li>
</ol>
</div>
<div class="section" id="set-up-on-an-ubuntu-machine">
<h1>Set-up on an Ubuntu Machine<a class="headerlink" href="#set-up-on-an-ubuntu-machine" title="Permalink to this headline">¶</a></h1>
<p>Below are basic instructions on how to get started with using
OpenFV. This documentation assumes that you have a basic working knowledge
of Linux.</p>
<p>OpenFV requires the following packages:</p>
<ol class="arabic simple">
<li>CMake 2.8 or higher</li>
<li>Git</li>
<li>GCC 4.4.x or higher</li>
<li>Python 2.7</li>
<li>Boost Libraries, libtiff4 +, gperftools</li>
<li>Glog, Google Log 0.3.1 +</li>
<li>Ceres Solver, Eigen 3.2.2 +, Atlas, SuiteSparse</li>
<li>OpenCV 2.4.10 (3.0+ not yet supported) built with Python,
[optional: Qt and CUDA (if you have a GPU on your machine)]<ul>
<li>Some versions may not be compatable. In such a case, please let
us know.</li>
</ul>
</li>
</ol>
<p>The following packages are optional for OpenFV:</p>
<ol class="arabic simple">
<li>Qt4 +</li>
<li>CUDA toolkit 7.5 preferred (6.0+ should work, 8.0 not supported)<ul>
<li>If Qt is no installed, any live view functions will not work.</li>
</ul>
</li>
</ol>
<div class="section" id="id1">
<h2>14.04<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo apt-get install libtiff5-dev libgoogle-glog-dev
$ sudo apt-get install qt5-default
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>12.04<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo apt-get install libtiff4-dev
$ sudo apt-get install qt4-dev-tools
</pre></div>
</div>
<ul class="simple">
<li>install <a class="reference external" href="https://google-glog.googlecode.com/svn/trunk/INSTALL">glog</a></li>
</ul>
</div>
<div class="section" id="general-setup">
<h2>General Setup<a class="headerlink" href="#general-setup" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo apt-get install cmake build-essential libboost-all-dev libgoogle-perftools-dev google-perftools libeigen3-dev libatlas-base-dev libsuitesparse-dev
</pre></div>
</div>
<ul class="simple">
<li>install <a class="reference external" href="http://ceres-solver.org/building.html">ceres</a></li>
</ul>
<p>After installing ceres, run the following commands in your build directory</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ cmake -D <span class="nv">CMAKE_CXX_FLAGS</span><span class="o">=</span>-fPIC -D <span class="nv">CMAKE_C_FLAGS</span><span class="o">=</span>-fPIC ../ceres-solver-1.10.0 <span class="o">&amp;&amp;</span> make <span class="o">&amp;&amp;</span> sudo make install
</pre></div>
</div>
<ul class="simple">
<li>install <a class="reference external" href="http://developer.download.nvidia.com/compute/cuda/7.5/Prod/docs/sidebar/CUDA_Quick_Start_Guide.pdf">CUDA Toolkit</a></li>
<li>install <a class="reference external" href="http://docs.opencv.org/3.0-last-rst/doc/tutorials/introduction/linux_install/linux_install.html">OpenCV 2.4.10</a></li>
</ul>
<p>After installing opencv 2.4.10, change into the directory and run the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mkdir bin <span class="o">&amp;&amp;</span> <span class="nb">cd</span> bin <span class="o">&amp;&amp;</span> cmake -D <span class="nv">CUDA_GENERATION</span><span class="o">=</span>Kepler <span class="o">[</span>-D <span class="nv">WITH_QT</span><span class="o">=</span>ON<span class="o">]</span> ..
$ make
</pre></div>
</div>
<p>or if you are building without CUDA:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mkdir bin <span class="o">&amp;&amp;</span> <span class="nb">cd</span> bin <span class="o">&amp;&amp;</span> cmake -D <span class="nv">WITH_CUDA</span><span class="o">=</span>OFF <span class="o">[</span>-D <span class="nv">WITH_QT</span><span class="o">=</span>ON<span class="o">]</span> ..
$ make
</pre></div>
</div>
</div>
<div class="section" id="openfv-installation">
<h2>OpenFV Installation<a class="headerlink" href="#openfv-installation" title="Permalink to this headline">¶</a></h2>
<p><em>Cloning Repository</em></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git clone &lt;openfv git link&gt;
</pre></div>
</div>
<p><em>Basic Installation</em></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> openfv <span class="o">&amp;&amp;</span> ./configure <span class="o">&amp;&amp;</span> <span class="nb">cd</span> bin <span class="o">&amp;&amp;</span> make
</pre></div>
</div>
<p><em>Install with Python Wrappers</em> <strong>(EXPERIMENTAL)</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> openfv <span class="o">&amp;&amp;</span> mkdir bin <span class="o">&amp;&amp;</span> <span class="nb">cd</span> bin
$ cmake -D <span class="nv">BUILD_PYTHON</span><span class="o">=</span>ON ..
$ make
</pre></div>
</div>
</div>
</div>
<div class="section" id="set-up-on-os-x">
<h1>Set-up on OS X<a class="headerlink" href="#set-up-on-os-x" title="Permalink to this headline">¶</a></h1>
<p>This has only been tested on OS X El Capitan.</p>
<ul class="simple">
<li>OS X El Capitan should already have Python 2.7 installed so you
should not have to install that.</li>
<li>Install Xcode 5 or higher. Seems to be required for intalling
Qt. Also, you must open Xcode and accept its license in order to
install some additional components like the C++ compiler etc.</li>
<li>Install Homebrew (visit brew.sh for instructions). This will help
install some other dependencies easily.</li>
<li>Install cmake, boost, libtiff, glog (this should automatically
also install gflags), ceres-solver and gperftools:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ brew install cmake
$ brew install boost
$ brew install boost-python
$ brew install libtiff
$ brew install glog
$ brew install ceres-solver <span class="o">(</span>or brew install
homebrew/science/ceres-solver<span class="o">)</span>
$ brew install gperftools
</pre></div>
</div>
<ul class="simple">
<li>Install CUDA Toolkit for OS X from developer.nvidia.com. As
mentioned earlier, you need to install this right now regardless if
whether you have a CUDA capable GPU on your machine since the
toolkit libraries are currently a required set of dependency. Again,
feel free to skip installing the driver and samples, which is what I
did while testing this on a 13 inch Macbook Pro.</li>
<li>Install Qt 4 or higher (visit qt.io for instructions)</li>
<li>Install OpenCV (2.4.11 built ok) from source. Build this using the
following cmake configuration:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> opencv-2.4.11
$ mkdir build
$ <span class="nb">cd</span> build
$ cmake -D <span class="nv">WITH_PYTHON</span><span class="o">=</span>ON -D <span class="nv">WITH_CUDA</span><span class="o">=</span>ON -D
<span class="nv">CUDA_GENERATION</span><span class="o">=</span>Kepler ..
$ make
</pre></div>
</div>
<ul class="simple">
<li>Build OpenFV:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> openfv
$ ./configure
$ <span class="nb">cd</span> bin
$ cmake <span class="o">[</span>-D <span class="nv">OpenCV_DIR</span><span class="o">=</span>&lt;path to where OpenCV is built&gt; -D
<span class="nv">EIGEN_INC_DIR</span><span class="o">=</span>&lt;path to where Eigen include files lie&gt; -D
<span class="nv">PYTHON_LIBRARIES</span><span class="o">=</span>&lt;path to where libpython2.7.dylib lies&gt; -D
<span class="nv">PYTHON_INCLUDE_DIR</span><span class="o">=</span>&lt;path to where pyconfig.h and Python.h lie&gt;<span class="o">]</span> ..
$ make
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Set-up on Cloud Instances (AWS EC2)</a></li>
<li><a class="reference internal" href="#set-up-on-an-ubuntu-machine">Set-up on an Ubuntu Machine</a><ul>
<li><a class="reference internal" href="#id1">14.04</a></li>
<li><a class="reference internal" href="#id2">12.04</a></li>
<li><a class="reference internal" href="#general-setup">General Setup</a></li>
<li><a class="reference internal" href="#openfv-installation">OpenFV Installation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#set-up-on-os-x">Set-up on OS X</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to OpenFV&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="next chapter">Tutorial</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/setup.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to OpenFV’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openfv 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Abhishek Bajpayee and Logan Ford.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.5.
    </div>
  </body>
</html>